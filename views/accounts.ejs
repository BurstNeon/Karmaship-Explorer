<!DOCTYPE html>
<html lang="en">

<head>
  <script src="https://www.amcharts.com/lib/3/amcharts.js"></script>
  <script src="https://www.amcharts.com/lib/3/serial.js"></script>
  <script src="https://www.amcharts.com/lib/3/plugins/export/export.min.js"></script>
  <link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css" type="text/css" media="all" />
  <script src="https://www.amcharts.com/lib/3/themes/dark.js"></script>
  <meta charset="utf-8" />
  <link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-icon.png">
  <link rel="icon" type="image/png" href="../assets/img/favicon.png">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <script language="javascript" type="text/javascript" src="../qr/qrcode.js"></script>
  <title>

  </title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
  <!--     Fonts and icons     -->
  <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,600,700,800" rel="stylesheet" />
  <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
  <!-- Nucleo Icons -->
  <link href="../assets/css/nucleo-icons.css" rel="stylesheet" />
  <!-- CSS Files -->
  <link href="../assets/css/bootstrap.min.css" rel="stylesheet" />
  <link href="../assets/css/black-dashboard.css?v=1.0.0" rel="stylesheet" />
  <!-- CSS Just for demo purpose, don't include it in your project -->
  <link href="../assets/demo/demo.css" rel="stylesheet" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
</head>
<style>
#chartdiv {
  width: 100%;
  height: 100%;
}
#chartdiv2 {
  width: 100%;
  height: 100%;
}
.card-footer {

    padding: .75rem 1.25rem;
    background-color: transparent !important;
    border-top: none !important;

}
</style>
<body class=" ">
  <div class="wrapper ">
    <div class="sidebar">
      <!--
        Tip 1: You can change the color of the sidebar using: data-color="blue | green | orange | red | yellow"
    -->
      <div class="sidebar-wrapper">
        <div class="logo">
          <a href="." class="simple-text logo-normal">
            <img id="logo" src="pic/logo.png"  alt="">
            Block Explorer
          </a>
        </div>
              <div class="logo">
                      <div id="rate" class="navbar-toggler-bar bar1"></div>
                </div>
        <ul class="nav">
          <li>
            <a href="./">
              <i class="tim-icons icon-chart-pie-36"></i>
              <p>Dashboard</p>
            </a>
          </li>

          <li>
            <a href="./blocks">
              <i class="tim-icons icon-pin"></i>
              <p>Blocks</p>
            </a>
          </li>
          <li class="active">
            <a href="./account">
              <i class="tim-icons icon-single-02"></i>
              <p>Account</p>
            </a>
          </li>

        </ul>
      </div>
    </div>
    <div class="main-panel">
      <!-- Navbar -->
      <nav class="navbar navbar-expand-lg navbar-absolute navbar-transparent   ">
        <div class="container-fluid">

          <div class="navbar-wrapper">
            <div class="navbar-toggle d-inline">
              <button type="button" class="navbar-toggler">
                <span class="navbar-toggler-bar bar1"></span>
                <span class="navbar-toggler-bar bar2"></span>
                <span class="navbar-toggler-bar bar3"></span>
              </button>
            </div>

          </div>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-bar navbar-kebab"></span>
            <span class="navbar-toggler-bar navbar-kebab"></span>
            <span class="navbar-toggler-bar navbar-kebab"></span>
          </button>
          <div class="collapse navbar-collapse" id="navigation">

          </div>
        </div>
      </nav>
      <div class="modal fade" id="searchModal" tabindex="-1" role="dialog" aria-labelledby="searchModal" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <input type="text" class="form-control" id="inlineFormInputGroup" placeholder="SEARCH">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <i class="tim-icons icon-simple-remove"></i>
              </button>
            </div>
            <div class="modal-footer">
            </div>
          </div>
        </div>
      </div>
      <!-- End Navbar -->
      <div class="content">
          <div class="row">
            <div class="col-12">
        <div class="card-footer">
        <form method="get" action="/account">
        <input  id="search" value="<%= address %>" name="id" placeholder="Search by Address / Name" type="text" required="">
        <button id="searchb"type="submit">Search</button>
        <style>
        #both {
          margin: 0;
   padding: 0;
   width:100%;
        }
        #search:focus {
    outline: none !important;
    border:1px solid rgb(186, 84, 245);;

}
        #searchb {
          color: rgba(255, 255, 255, 0.8);

          line-height: normal;

          font-size: 0.8571em;

          -webkit-transition: color 0.3s ease-in-out, border-color 0.3s ease-in-out, background-color 0.3s ease-in-out;

          -moz-transition: color 0.3s ease-in-out, border-color 0.3s ease-in-out, background-color 0.3s ease-in-out;

          -o-transition: color 0.3s ease-in-out, border-color 0.3s ease-in-out, background-color 0.3s ease-in-out;

          -ms-transition: color 0.3s ease-in-out, border-color 0.3s ease-in-out, background-color 0.3s ease-in-out;

          transition: color 0.3s ease-in-out, border-color 0.3s ease-in-out, background-color 0.3s ease-in-out;

          -webkit-box-shadow: none;

          box-shadow: none;
          background: rgb(186, 84, 245);

          border-radius: 0 3px 3px 0;

          text-shadow: 0 -1px 0 rgba(0, 0, 0, .3);
          border-color: transparent;
        }
        #search {
          border-color: #2b3553;

background-color: transparent;

width: 90%;

color: rgba(255, 255, 255, 0.8);

line-height: normal;

font-size: 0.8571em;

-webkit-transition: color 0.3s ease-in-out, border-color 0.3s ease-in-out, background-color 0.3s ease-in-out;

-moz-transition: color 0.3s ease-in-out, border-color 0.3s ease-in-out, background-color 0.3s ease-in-out;

-o-transition: color 0.3s ease-in-out, border-color 0.3s ease-in-out, background-color 0.3s ease-in-out;

-ms-transition: color 0.3s ease-in-out, border-color 0.3s ease-in-out, background-color 0.3s ease-in-out;

transition: color 0.3s ease-in-out, border-color 0.3s ease-in-out, background-color 0.3s ease-in-out;

-webkit-box-shadow: none;

box-shadow: none;
        }
        </style>
    </form>
      </div>
      </div>
      </div>


        <div class="row">
          <div class="col-md-12">
                 <div class="card">
                     <div class="card-header">
                         <h5 class="title">  <img id="logo" src="pic/logo.png"  alt=""> <a href='/account?id=<%= address %>'> <%= addressSplitter %>  </a> </h5>

                     </div>
                     <div class="card-body">

                         <form>

                             <div class="row">
                                 <div class="col-md-6 pr-md-1">
                                     <div class="form-group">
                                         <label>Address</label>
                                         <input type="text" class="form-control" placeholder="<%= addressSplitter %>" value="<%= addressSplitter %>"  readonly>
                                     </div>
                                 </div>
                                 <div class="col-md-6 pr-md-1">
                                     <div class="form-group">
                                         <label>Name</label>
                                         <input type="text" class="form-control" placeholder="<%= name %>" value="<%= name %>" readonly>
                                     </div>
                                 </div>
                             </div>
                             <div class="row">
                                 <div class="col-md-6 pr-md-1">
                                     <div class="form-group">
                                         <label id="kmx" >Current KMX-Balance</label>
                                         <input type="text" class="form-control" placeholder="<%= currBalance %>" value="<%= currBalance %>"  readonly>
                                     </div>
                                 </div>
                                 <div class="col-md-6 pr-md-1">
                                     <div class="form-group">
                                         <label>Generated KEX-Balance</label>
                                         <input type="text" class="form-control" placeholder="<%= genBalance %>" value="<%= genBalance %>" readonly>
                                     </div>
                                 </div>
                             </div>
                             <div class="row">
                                 <div class="col-md-6">
                                     <div class="form-group">
                                         <a id="bookmarkme" href="/account?id=<%= address %>" rel="sidebar" title="Karma <%= address %>">Bookmark Short Url</a>
                                         <input type="text" class="form-control" placeholder="Home Address" value="/account?id?=<%= address %>" readonly>
                                     </div>
                                 </div>
                                 <div class="col-md-6">
                                     <div class="form-group">
                                        <label>Vested Balance</label>
                                         <input type="text" class="form-control" placeholder="Home Address" value="<%= vested %>" readonly>
                                     </div>
                                 </div>

                             </div>

                             <div class="row">

                                 <div class="col-md-6">
                                     <div class="form-group">
                                         <a id="bookmarkme" href="/account?id=<%= address %>" rel="sidebar" title="Karma <%= address %>">Quick Response Code</a> <br><br>
                                      <div id="qrcode"></div>
                                     </div>
                                 </div>
                                 <div class="col-md-6">
                                     <div class="form-group">
                                         <span id="badges" href="/account?id=<%= address %>" rel="sidebar" title="Karma <%= address %>">Karmaship Badges</span>  <br><br>
                                         <img id="logo2" src="<%= logo %>"  height="10px" width="10px" title="Be a Supernode" alt="">
                                         <img id="logo2" src="<%= logo2 %>"  height="10px" width="10px" title="Set a Name" alt="">
                                         <img id="logo2" src="<%= logo3 %>"  height="10px" width="10px" title="First Transaction" alt="">
                                         <img id="logo2" src="<%= logo4 %>"  height="10px" width="10px" title="10. Transaction" alt="">
                                         <img id="logo2" src="<%= logo5 %>"  height="10px" width="10px" title="20. Transaction" alt="">
                                         <img id="logo2" src="<%= logo6 %>"  height="10px" width="10px" title="30. Transaction" alt="">
                                     </div>
                                 </div>

                             </div>
                         </form>
                     </div>
                 </div>
        </div>
        <script>
        new QRCode(document.getElementById("qrcode"), "<%= address %>");
        </script>

        <script>
        function Get(cmcUrl){
                     var Httpreq = new XMLHttpRequest();
                     Httpreq.open("GET", cmcUrl, false);
                     Httpreq.send(null);
                     return Httpreq.responseText;
                 }
            var time = 0;
            let cmcInfoUrl = "https://api.coinmarketcap.com/v2/ticker/1/";
            let cmcInfo = JSON.parse(Get(cmcInfoUrl));
            let kmxPrice = cmcInfo.data.quotes.USD.price;
            document.getElementById("kmx").innerHTML =  "Current KMX-Balance" + " <=> " + (kmxPrice * <%= currBalance %>).toFixed(2) + ' USD';
              document.getElementById("rate").innerHTML =  "1 KMX : " + kmxPrice.toFixed(2) + " USD";
        </script>
        <style>
        #logo2 {

    height: 70px;
    width: 70px;

}
#rate{
  color: #ffffffe6;
  font-size: 13px;
  text-align: center;
  width: 100%;

}
#badges {
  color: white;
}
        #qrcode {
          width:160px;
          height:160px;
          display: inline-block;

max-width: 100%;

height: auto;

padding: 4px;

line-height: 1.42857143;

background-color: #fff;

border: 1px solid #ddd;

border-radius: 4px;

-webkit-transition: all .2s ease-in-out;

-o-transition: all .2s ease-in-out;

transition: all .2s ease-in-out;
        }

        img {
          height: 150px;
          width: 150px;
        }
        #logo {
          height: 50px;
          width: 65px;
        }
        </style>
<script>
$(function() {
  $('#bookmarkme').click(function() {
    if (window.sidebar && window.sidebar.addPanel) { // Mozilla Firefox Bookmark
      window.sidebar.addPanel(document.title, window.location.href);
    } else if (window.external && ('AddFavorite' in window.external)) { // IE Favorite
      window.external.AddFavorite(location.href, document.title);
    } else if (window.opera && window.print) { // Opera Hotlist
      this.title = document.title;
      return true;
    } else { // webkit - safari/chrome

    }
  });
});
</script>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="card ">
            <div class="card-header">
              <h5 class="title">   Last 50 Transactions <a href='/account?id=<%= address %>'> <%= addressSplitter %> </a></h5>
            </div>
            <div class="card-body">
              <div class="table-responsive">
                <table class="table tablesorter " id="">
                  <thead class=" text-primary">
                    <th>
                      Action
                    </th>
                    <th>
                      Date
                    </th>
                    <th>
                      Amount
                    </th>
                    <th>
                      Signature
                    </th>
                    <th>
                      Confirmations
                    </th>

                  </thead>
                  <tbody>
                        <%-html %>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
      <footer class="footer">
        <div class="container-fluid">
          <nav>
            <ul>
              <li>
                <a href="https://karmaship.io">
                  Karmaship.io
                </a>
              </li>
              <li>
                <a href="https://karmaship.io/wp-content/uploads/2018/08/Karmaship-Grey-Paper-1.07-.pdf">
                  Grey Paper
                </a>
              </li>
              <li>
                <a href="https://discordapp.com/invite/9z8fQBv">
                  Discord
                </a>
              </li>
              <li>
                <a href="https://t.me/karmaship">
                  Telegram
                </a>
              </li>
              <li>
                <a href="https://medium.com/karmaship">
                  Medium
                </a>
              </li>
            </ul>
          </nav>
          <div class="copyright float-right">
             @
            <script>
              document.write(new Date().getFullYear())
            </script> Karmaship Team | All rights reserved </i> by
            <a href="https://github.com/BurstNeon" target="_blank">T.W.</a>
          </div>
      </footer>
      </div>
    </div>
    <div class="fixed-plugin">
      <div class="dropdown show-dropdown">
        <a href="#" data-toggle="dropdown">

        </a>

      </div>
    </div>
    <!--   Core JS Files   -->
    <script src="../assets/js/core/jquery.min.js"></script>
    <script src="../assets/js/core/popper.min.js"></script>
    <script src="../assets/js/core/bootstrap.min.js"></script>
    <script src="../assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
    <!--  Google Maps Plugin    -->
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script>
    <!-- Chart JS -->
    <script src="../assets/js/plugins/chartjs.min.js"></script>
    <!--  Notifications Plugin    -->
    <script src="../assets/js/plugins/bootstrap-notify.js"></script>
    <!-- Control Center for Black Dashboard: parallax effects, scripts for the example pages etc -->
    <script src="../assets/js/black-dashboard.min.js?v=1.0.0" type="text/javascript"></script>
    <!-- Black Dashboard DEMO methods, don't include it in your project! -->
    <script src="../assets/demo/demo.js"></script>
    <script>
      $(document).ready(function() {
        $().ready(function() {
          $sidebar = $('.sidebar');
          $navbar = $('.navbar');

          $full_page = $('.full-page');

          $sidebar_responsive = $('body > .navbar-collapse');
          sidebar_mini_active = true;
          white_color = false;

          window_width = $(window).width();

          fixed_plugin_open = $('.sidebar .sidebar-wrapper .nav li.active a p').html();



          $('.fixed-plugin a').click(function(event) {
            // Alex if we click on switch, stop propagation of the event, so the dropdown will not be hide, otherwise we set the  section active
            if ($(this).hasClass('switch-trigger')) {
              if (event.stopPropagation) {
                event.stopPropagation();
              } else if (window.event) {
                window.event.cancelBubble = true;
              }
            }
          });

          $('.fixed-plugin .background-color span').click(function() {
            $(this).siblings().removeClass('active');
            $(this).addClass('active');

            var new_color = $(this).data('color');

            if ($sidebar.length != 0) {
              $sidebar.attr('data-color', new_color);
            }

            if ($navbar.length != 0) {
              $navbar.attr('data-color', new_color);
            }

            if ($full_page.length != 0) {
              $full_page.attr('filter-color', new_color);
            }

            if ($sidebar_responsive.length != 0) {
              $sidebar_responsive.attr('data-color', new_color);
            }
          });

          $('.switch-sidebar-mini input').on("switchChange.bootstrapSwitch", function() {
            var $btn = $(this);

            if (sidebar_mini_active == true) {
              $('body').removeClass('sidebar-mini');
              sidebar_mini_active = false;
              blackDashboard.showSidebarMessage('Sidebar mini deactivated...');
            } else {
              $('body').addClass('sidebar-mini');
              sidebar_mini_active = true;
              blackDashboard.showSidebarMessage('Sidebar mini activated...');
            }

            // we simulate the window Resize so the charts will get updated in realtime.
            var simulateWindowResize = setInterval(function() {
              window.dispatchEvent(new Event('resize'));
            }, 180);

            // we stop the simulation of Window Resize after the animations are completed
            setTimeout(function() {
              clearInterval(simulateWindowResize);
            }, 1000);
          });

          $('.switch-change-color input').on("switchChange.bootstrapSwitch", function() {
            var $btn = $(this);

            if (white_color == true) {

              $('body').addClass('change-background');
              setTimeout(function() {
                $('body').removeClass('change-background');
                $('body').removeClass('white-content');
              }, 900);
              white_color = false;
            } else {

              $('body').addClass('change-background');
              setTimeout(function() {
                $('body').removeClass('change-background');
                $('body').addClass('white-content');
              }, 900);

              white_color = true;
            }


          });

          $('.light-badge').click(function() {
            $('body').addClass('white-content');
          });

          $('.dark-badge').click(function() {
            $('body').removeClass('white-content');
          });
        });
      });
    </script>
    <style>
    .form-control[disabled], .form-control[readonly], fieldset[disabled] .form-control {

    background-color: #1d253b;
    color: white;
    cursor: not-allowed;

}
    </style>
    <script>
      $(document).ready(function() {
        // Javascript method's body can be found in assets/js/demos.js
        demo.initDashboardPageCharts();

      });
    </script>
</body>

</html>
